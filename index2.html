<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Shipment Record</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <style>
        /* General Styles */
        .hidden-field {
            display: none;
        }

        /* Loading Spinner */
        .loading-spinner {
            border: 4px solid #f3f3f3; /* Light gray */
            border-top: 4px solid #9c27b0; /* Purple */
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-right: 8px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }


        .hidden-field {
             display: none;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Poppins", sans-serif;
            background: linear-gradient(135deg, #9c27b0, #ff6e40);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .form-container {
            background: #fff;
            border-radius: 15px;
            box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            width: 100%;
            max-width: 700px;
        }

        /* Header Styling */
        h1 {
            text-align: center;
            font-size: 30px;
            margin-bottom: 20px;
            color: #9c27b0;
        }

        h2 {
            text-align: center;
            font-size: 22px;
            margin-bottom: 20px;
            color: #ff6e40;
        }

        .username-display {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .message {
            text-align: center;
            font-size: 16px;
            margin-bottom: 15px;
            display: none;
        }

        .message.success {
            color: green;
        }

        .message.error {
            color: red;
        }

        /* Label and Input Fields */
        label {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
            color: #555;
        }

        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid #ddd;
            font-size: 16px;
            margin-bottom: 15px;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        input:focus,
        .searchable-dropdown:focus {
            border-color: #ff6e40;
            box-shadow: 0 0 5px rgba(255, 110, 64, 0.5);
            outline: none;
        }

        .select2-container--default .select2-selection--single {
            height: 44px; /* Match input height */
            padding: 6px 12px; /* Match input padding */
            border: 1px solid #ddd; /* Match input border */
            border-radius: 10px; /* Match input border-radius */
            font-size: 16px; /* Match input font-size */
        }

        .select2-container--default .select2-selection--single:focus {
            border-color: #ff6e40;
            box-shadow: 0 0 5px rgba(255, 110, 64, 0.5);
            outline: none;
        }

        /* Box Container */
        .box-container {
            margin-top: 20px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            border: 1px solid #ddd;
        }

        .remove-box-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #ff6e40, #9c27b0);
            border: none;
            color: #fff;
            font-weight: bold;
            padding: 6px 10px;
            border-radius: 5px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .remove-box-btn:hover {
            background: linear-gradient(135deg, #9c27b0, #ff6e40);
        }

        @media screen and (max-width: 768px) {
            .remove-box-btn {
                position:static;
                display: block;
                margin: 0 auto 10px auto;
                width: fit-content;
            }
        }

        /* Items Container */
        .items-container {
            margin-top: 20px;
            padding: 15px;
            background: #fff;
            border-radius: 10px;
            border: 1px solid #eee;
        }

        /* Item Row */
        .item-row {
            display: flex; /* Align elements horizontally */
            flex-wrap: wrap; /* Allow wrapping for small screens */
            align-items: center; /* Align items vertically */
            gap: 10px; /* Space between elements */
            margin-bottom: 10px;
        }

        .item-label {
            font-size: 15px;
            font-weight: bold;
            color: #6c757d;
        }

        /* Remove Item Button */
        .remove-item-btn {
            background: linear-gradient(135deg, #ff6e40, #e040fb);
            border: none;
            color: #fff;
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 5px;
            font-size: 10px;
            height: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .remove-item-btn:hover {
            background: linear-gradient(135deg, #9c27b0, #ff6e40);
        }

        /* Input Fields for Item Details */
        input[type="text"],
        input[type="number"] {
            height: 44px; /* Match dropdown height */
            padding: 6px 12px; /* Match dropdown padding */
            font-size: 16px; /* Match dropdown font-size */
        }

        /* Buttons */
        .add-box-button,
        .add-item-button,
        .submit-btn {
            display: inline-block;
            background: linear-gradient(135deg, #ff6e40, #9c27b0);
            border: none;
            color: #fff;
            font-weight: bold;
            padding: 9px 15px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 9px;
            margin-bottom: 9px;
        }

        .add-box-button:hover,
        .add-item-button:hover,
        .submit-btn:hover {
            background: linear-gradient(135deg, #9c27b0, #ff6e40);
            transform: scale(1.02);
        }

        .submit-btn {
            width: 100%;
            font-size: 16px;
            padding: 12px;
        }

        /* Responsive Design */
        @media screen and (max-width: 768px) {
            .item-row {
                flex-direction: column; /* Stack elements vertically on small screens */
                gap: 5px;
            }

            .remove-box-btn,
            .add-box-button,
            .add-item-button,
            .submit-btn {
                width: 100%; /* Full width for buttons */
            }

            input[type="text"],
            input[type="number"],
            select {
                font-size: 14px; /* Adjust font size for smaller screens */
            }
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h1>RapidEx Operations</h1>
        <h2>Add Shipment Record</h2>

        <!-- Display Logged-in Username -->
        <div class="username-display" id="username-display"></div>

        <!-- Success/Error Messages -->
        <div id="message" class="message"></div>

        <form id="shipment-form">
            <!-- Hidden Username Field for Submission -->
            <input type="hidden" id="username" name="Username">

            <!-- Client Name Field -->
            <label for="client-name">Client Name:</label>
            <input type="text" id="client-name" name="Client Name" placeholder="Enter Client Name" required title="Please enter the full name of the client.">

            <!-- Receiver Name Field -->
            <label for="receiver-name">Receiver Name:</label>
            <input type="text" id="receiver-name" name="Receiver Name" placeholder="Enter Receiver Name" required>

            <!-- Country Field -->
            <label for="country">Country:</label>
            <select id="country" name="Country" class="searchable-dropdown" required>
                <option value="">Select Country</option>
                <option value="AF">Afghanistan</option>
                <option value="AL">Albania</option>
                <option value="DZ">Algeria</option>
                <option value="AS">American Samoa</option>
                <option value="AD">Andorra</option>
                <option value="AO">Angola</option>
                <option value="AI">Anguilla</option>
                <option value="AQ">Antarctica</option>
                <option value="AG">Antigua and Barbuda</option>
                <option value="AR">Argentina</option>
                <option value="AM">Armenia</option>
                <option value="AW">Aruba</option>
                <option value="AU">Australia</option>
                <option value="AT">Austria</option>
                <option value="AZ">Azerbaijan</option>
                <option value="BS">Bahamas</option>
                <option value="BH">Bahrain</option>
                <option value="BD">Bangladesh</option>
                <option value="BB">Barbados</option>
                <option value="BY">Belarus</option>
                <option value="BE">Belgium</option>
                <option value="BZ">Belize</option>
                <option value="BJ">Benin</option>
                <option value="BM">Bermuda</option>
                <option value="BT">Bhutan</option>
                <option value="BO">Bolivia</option>
                <option value="BA">Bosnia and Herzegovina</option>
                <option value="BW">Botswana</option>
                <option value="BR">Brazil</option>
                <option value="BN">Brunei</option>
                <option value="BG">Bulgaria</option>
                <option value="BF">Burkina Faso</option>
                <option value="BI">Burundi</option>
                <option value="KH">Cambodia</option>
                <option value="CM">Cameroon</option>
                <option value="CA">Canada</option>
                <option value="CV">Cape Verde</option>
                <option value="KY">Cayman Islands</option>
                <option value="CF">Central African Republic</option>
                <option value="TD">Chad</option>
                <option value="CL">Chile</option>
                <option value="CN">China</option>
                <option value="CO">Colombia</option>
                <option value="KM">Comoros</option>
                <option value="CG">Congo</option>
                <option value="CD">Congo (DRC)</option>
                <option value="CR">Costa Rica</option>
                <option value="HR">Croatia</option>
                <option value="CU">Cuba</option>
                <option value="CY">Cyprus</option>
                <option value="CZ">Czech Republic</option>
                <option value="DK">Denmark</option>
                <option value="DJ">Djibouti</option>
                <option value="DM">Dominica</option>
                <option value="DO">Dominican Republic</option>
                <option value="EC">Ecuador</option>
                <option value="EG">Egypt</option>
                <option value="SV">El Salvador</option>
                <option value="GQ">Equatorial Guinea</option>
                <option value="ER">Eritrea</option>
                <option value="EE">Estonia</option>
                <option value="ET">Ethiopia</option>
                <option value="FJ">Fiji</option>
                <option value="FI">Finland</option>
                <option value="FR">France</option>
                <option value="GA">Gabon</option>
                <option value="GM">Gambia</option>
                <option value="GE">Georgia</option>
                <option value="DE">Germany</option>
                <option value="GH">Ghana</option>
                <option value="GR">Greece</option>
                <option value="GD">Grenada</option>
                <option value="GU">Guam</option>
                <option value="GT">Guatemala</option>
                <option value="GN">Guinea</option>
                <option value="GW">Guinea-Bissau</option>
                <option value="GY">Guyana</option>
                <option value="HT">Haiti</option>
                <option value="HN">Honduras</option>
                <option value="HU">Hungary</option>
                <option value="IS">Iceland</option>
                <option value="IN">India</option>
                <option value="ID">Indonesia</option>
                <option value="IR">Iran</option>
                <option value="IQ">Iraq</option>
                <option value="IE">Ireland</option>
                <option value="IL">Israel</option>
                <option value="IT">Italy</option>
                <option value="JM">Jamaica</option>
                <option value="JP">Japan</option>
                <option value="JO">Jordan</option>
                <option value="KZ">Kazakhstan</option>
                <option value="KE">Kenya</option>
                <option value="KI">Kiribati</option>
                <option value="KW">Kuwait</option>
                <option value="KG">Kyrgyzstan</option>
                <option value="LA">Laos</option>
                <option value="LV">Latvia</option>
                <option value="LB">Lebanon</option>
                <option value="LS">Lesotho</option>
                <option value="LR">Liberia</option>
                <option value="LY">Libya</option>
                <option value="LI">Liechtenstein</option>
                <option value="LT">Lithuania</option>
                <option value="LU">Luxembourg</option>
                <option value="MG">Madagascar</option>
                <option value="MW">Malawi</option>
                <option value="MY">Malaysia</option>
                <option value="MV">Maldives</option>
                <option value="ML">Mali</option>
                <option value="MT">Malta</option>
                <option value="MH">Marshall Islands</option>
                <option value="MR">Mauritania</option>
                <option value="MU">Mauritius</option>
                <option value="MX">Mexico</option>
                <option value="FM">Micronesia</option>
                <option value="MD">Moldova</option>
                <option value="MC">Monaco</option>
                <option value="MN">Mongolia</option>
                <option value="ME">Montenegro</option>
                <option value="MA">Morocco</option>
                <option value="MZ">Mozambique</option>
                <option value="MM">Myanmar</option>
                <option value="NA">Namibia</option>
                <option value="NR">Nauru</option>
                <option value="NP">Nepal</option>
                <option value="NL">Netherlands</option>
                <option value="NZ">New Zealand</option>
                <option value="NI">Nicaragua</option>
                <option value="NE">Niger</option>
                <option value="NG">Nigeria</option>
                <option value="NO">Norway</option>
                <option value="OM">Oman</option>
                <option value="PK">Pakistan</option>
                <option value="PW">Palau</option>
                <option value="PA">Panama</option>
                <option value="PG">Papua New Guinea</option>
                <option value="PY">Paraguay</option>
                <option value="PE">Peru</option>
                <option value="PH">Philippines</option>
                <option value="PL">Poland</option>
                <option value="PT">Portugal</option>
                <option value="QA">Qatar</option>
                <option value="RO">Romania</option>
                <option value="RU">Russia</option>
                <option value="RW">Rwanda</option>
                <option value="WS">Samoa</option>
                <option value="SM">San Marino</option>
                <option value="SA">Saudi Arabia</option>
                <option value="SN">Senegal</option>
                <option value="RS">Serbia</option>
                <option value="SC">Seychelles</option>
                <option value="SL">Sierra Leone</option>
                <option value="SG">Singapore</option>
                <option value="SK">Slovakia</option>
                <option value="SI">Slovenia</option>
                <option value="SB">Solomon Islands</option>
                <option value="SO">Somalia</option>
                <option value="ZA">South Africa</option>
                <option value="KR">South Korea</option>
                <option value="ES">Spain</option>
                <option value="LK">Sri Lanka</option>
                <option value="SD">Sudan</option>
                <option value="SR">Suriname</option>
                <option value="SE">Sweden</option>
                <option value="CH">Switzerland</option>
                <option value="SY">Syria</option>
                <option value="TW">Taiwan</option>
                <option value="TJ">Tajikistan</option>
                <option value="TZ">Tanzania</option>
                <option value="TH">Thailand</option>
                <option value="TG">Togo</option>
                <option value="TO">Tonga</option>
                <option value="TT">Trinidad and Tobago</option>
                <option value="TN">Tunisia</option>
                <option value="TR">Turkey</option>
                <option value="TM">Turkmenistan</option>
                <option value="TV">Tuvalu</option>
                <option value="UG">Uganda</option>
                <option value="UA">Ukraine</option>
                <option value="AE">United Arab Emirates</option>
                <option value="GB">United Kingdom</option>
                <option value="US">United States</option>
                <option value="UY">Uruguay</option>
                <option value="UZ">Uzbekistan</option>
                <option value="VU">Vanuatu</option>
                <option value="VA">Vatican City</option>
                <option value="VE">Venezuela</option>
                <option value="VN">Vietnam</option>
                <option value="YE">Yemen</option>
                <option value="ZM">Zambia</option>
                <option value="ZW">Zimbabwe</option>

            </select>

            <!-- Box Container -->
            <div id="box-container">
                <div class="box-container" data-box-index="1">
                    <button type="button" class="remove-box-btn" onclick="removeBox(this)">Remove Box</button>
                    <h3>Box #1</h3>

                    <!-- Box Type Field -->
                    <label for="box-1-type">Box Type:</label>
                    <select id="box-1-type" name="Box Type 1" class="searchable-dropdown">
                        <option value="">Select Box Type</option>
                        <option value="Box 1">Box 1</option>
                        <option value="Box 2">Box 2</option>
                        <option value="Box 3">Box 3</option>
                        <option value="Box 4A">Box 4A</option>
                        <option value="Box 4">Box 4</option>
                        <option value="Box 5A">Box 5A</option>
                        <option value="Box 6A">Box 6A</option>
                        <option value="Box 5">Box 5</option>
                        <option value="Box 6">Box 6</option>
                        <option value="Box 7A">Box 7A</option>
                        <option value="Box 7">Box 7</option>
                        <option value="Box 8">Box 8</option>

                    </select>

                    <!-- Items Container -->
                    <div class="items-container" data-box-index="1">
                        <div class="item-row" data-item-index="1">
                            <span class="item-label">Item #1</span>
                            <button type="button" class="remove-item-btn" onclick="removeItem(this)">Remove Item</button>
                            <select name="Item 1 (Box 1)" class="searchable-dropdown">
                                <option value="">Select Item</option>
                                <option value="ARTIFICIAL BANGLES">ARTIFICIAL BANGLES</option>
                                <option value="ARTIFICIAL EAR RINGS">ARTIFICIAL EAR RINGS</option>
                                <option value="ARTIFICIAL FLOWERS">ARTIFICIAL FLOWERS</option>
                                <option value="ARTIFICIAL JEWELLERY">ARTIFICIAL JEWELLERY</option>
                                <option value="BABY BED MOSQUITO NET">BABY BED MOSQUITO NET</option>
                                <option value="BEAUTY PRODUCTS">BEAUTY PRODUCTS</option>
                                <option value="BED SHEETS">BED SHEETS</option>
                                <option value="BLANKET">BLANKET</option>
                                <option value="BOOKS">BOOKS</option>
                                <option value="BOWLS">BOWLS</option>
                                <option value="BOYS SLIPPER">BOYS SLIPPER</option>
                                <option value="BOYS SUITS">BOYS SUITS</option>
                                <option value="BRIDAL LEHENGA">BRIDAL LEHENGA</option>
                                <option value="BRUSH">BRUSH</option>
                                <option value="CAP">CAP</option>
                                <option value="CHAIN (ARTIFICIAL JWELLERY)">CHAIN (ARTIFICIAL JWELLERY)</option>
                                <option value="CUFFLINKS">CUFFLINKS</option>
                                <option value="CURTAINS">CURTAINS</option>
                                <option value="DECORATION BASKET">DECORATION BASKET</option>
                                <option value="DECORATION PIECE">DECORATION PIECE</option>
                                <option value="DRY FRUIT PLATE">DRY FRUIT PLATE</option>
                                <option value="DUPATTA">DUPATTA</option>
                                <option value="EMPTY BOX">EMPTY BOX</option>
                                <option value="EYEGLASSES">EYEGLASSES</option>
                                <option value="FLAGS">FLAGS</option>
                                <option value="FLOOR MATS">FLOOR MATS</option>
                                <option value="GARMENTS ACCESSORIES ELASTIC ROLL">GARMENTS ACCESSORIES ELASTIC ROLL</option>
                                <option value="GENTS BELT">GENTS BELT</option>
                                <option value="GENTS JACKETS">GENTS JACKETS</option>
                                <option value="GENTS KURTA">GENTS KURTA</option>
                                <option value="GENTS KURTA PAJAMA">GENTS KURTA PAJAMA</option>
                                <option value="GENTS PAJAMA">GENTS PAJAMA</option>
                                <option value="GENTS PANTS">GENTS PANTS</option>
                                <option value="GENTS PVC SLIPPERS">GENTS PVC SLIPPERS</option>
                                <option value="GENTS SANDLES">GENTS SANDLES</option>
                                <option value="GENTS SHALWAR KAMEEZ">GENTS SHALWAR KAMEEZ</option>
                                <option value="GENTS SHIRTS">GENTS SHIRTS</option>
                                <option value="GENTS SHIRWANI">GENTS SHIRWANI</option>
                                <option value="GENTS SHOES">GENTS SHOES</option>
                                <option value="GENTS SUITS">GENTS SUITS</option>
                                <option value="GENTS SWEATER">GENTS SWEATER</option>
                                <option value="GENTS UNDERGARMENTS">GENTS UNDERGARMENTS</option>
                                <option value="GENTS UPPER">GENTS UPPER</option>
                                <option value="GENTS WAISTCOAT">GENTS WAISTCOAT</option>
                                <option value="GENTS WALLETS">GENTS WALLETS</option>
                                <option value="GIRL FROCK">GIRL FROCK</option>
                                <option value="GIRLS CANVA SHOES">GIRLS CANVA SHOES</option>
                                <option value="GIRLS SANDAL">GIRLS SANDAL</option>
                                <option value="GIRLS SUITS">GIRLS SUITS</option>
                                <option value="GIRLS SYNTHETIC KNITTED TIGHTS">GIRLS SYNTHETIC KNITTED TIGHTS</option>
                                <option value="GIRLS UPPER">GIRLS UPPER</option>
                                <option value="GLASS">GLASS</option>
                                <option value="GLOVES PAIR">GLOVES PAIR</option>
                                <option value="HAIR BANDS">HAIR BANDS</option>
                                <option value="HAIR CLIPS">HAIR CLIPS</option>
                                <option value="HAIR DRYER">HAIR DRYER</option>
                                <option value="HAND TAG">HAND TAG</option>
                                <option value="HEAD SCARF">HEAD SCARF</option>
                                <option value="HINA CONE MEHENDI">HINA CONE MEHENDI</option>
                                <option value="HOLY QURAN">HOLY QURAN</option>
                                <option value="ISLAMIC BOOKS">ISLAMIC BOOKS</option>
                                <option value="JAY NAMAZ">JAY NAMAZ</option>
                                <option value="JEWELLERY EMPTY POUCHES">JEWELLERY EMPTY POUCHES</option>
                                <option value="JOGGERS">JOGGERS</option>
                                <option value="KETTLE SMALL">KETTLE SMALL</option>
                                <option value="KIDS SUITS">KIDS SUITS</option>
                                <option value="KITCHEN CROCKERY">KITCHEN CROCKERY</option>
                                <option value="KNIFE">KNIFE</option>
                                <option value="LAB COAT">LAB COAT</option>
                                <option value="LACES">LACES</option>
                                <option value="LADIES ABAYA">LADIES ABAYA</option>
                                <option value="LADIES BAGS">LADIES BAGS</option>
                                <option value="LADIES CLOTHS">LADIES CLOTHS</option>
                                <option value="LADIES CLUTCH">LADIES CLUTCH</option>
                                <option value="LADIES FROCK">LADIES FROCK</option>
                                <option value="LADIES GHARARA">LADIES GHARARA</option>
                                <option value="LADIES HIJAB">LADIES HIJAB</option>
                                <option value="LADIES JACKET">LADIES JACKET</option>
                                <option value="LADIES KHUSSAY">LADIES KHUSSAY</option>
                                <option value="LADIES KNITTED SWEATER">LADIES KNITTED SWEATER</option>
                                <option value="LADIES KURTIES">LADIES KURTIES</option>
                                <option value="LADIES MAXI">LADIES MAXI</option>
                                <option value="LADIES PANTS">LADIES PANTS</option>
                                <option value="LADIES SHAWLS">LADIES SHAWLS</option>
                                <option value="LADIES SHIRTS">LADIES SHIRTS</option>
                                <option value="LADIES SHOES">LADIES SHOES</option>
                                <option value="LADIES SLIPPERS">LADIES SLIPPERS</option>
                                <option value="LADIES SUITS">LADIES SUITS</option>
                                <option value="LADIES TOP">LADIES TOP</option>
                                <option value="LADIES UNDER GARMENTS">LADIES UNDER GARMENTS</option>
                                <option value="LADIES WOVEN WAISTCOAT">LADIES WOVEN WAISTCOAT</option>
                                <option value="LEATHER ACCESSORIES">LEATHER ACCESSORIES</option>
                                <option value="LEATHER JACKET">LEATHER JACKET</option>
                                <option value="LEATHER PANT">LEATHER PANT</option>
                                <option value="MACHINE">MACHINE</option>
                                <option value="MATTRESS COVER">MATTRESS COVER</option>
                                <option value="MENS HOODIES">MENS HOODIES</option>
                                <option value="MENS JUBBAY">MENS JUBBAY</option>
                                <option value="MENS POLYSTER COAT">MENS POLYSTER COAT</option>
                                <option value="MENS POLYSTER PANT COAT">MENS POLYSTER PANT COAT</option>
                                <option value="MENS WOVEN HANDKERCHIEF (100% POLYSTER)">MENS WOVEN HANDKERCHIEF (100% POLYSTER)</option>
                                <option value="MISWAK STICKS">MISWAK STICKS</option>
                                <option value="MOBILE POUCHES">MOBILE POUCHES</option>
                                <option value="MOTOR MIXER BASE (SPARE PARTS FOR COFFEE MACHINE)">MOTOR MIXER BASE (SPARE PARTS FOR COFFEE MACHINE)</option>
                                <option value="PAMPHLETS (BUNDLES)">PAMPHLETS (BUNDLES)</option>
                                <option value="PEN">PEN</option>
                                <option value="PILLOW COVERS">PILLOW COVERS</option>
                                <option value="PLASTIC CAPS">PLASTIC CAPS</option>
                                <option value="PLASTIC TRAY">PLASTIC TRAY</option>
                                <option value="PLATES">PLATES</option>
                                <option value="POUCHES">POUCHES</option>
                                <option value="PRINTING MATERIAL CARD STRIP">PRINTING MATERIAL CARD STRIP</option>
                                <option value="PU JACKETS">PU JACKETS</option>
                                <option value="SCARFS">SCARFS</option>
                                <option value="SCISSORS">SCISSORS</option>
                                <option value="SHOW PIECE">SHOW PIECE</option>
                                <option value="SOCKS">SOCKS</option>
                                <option value="SPOON">SPOON</option>
                                <option value="STAR">STAR</option>
                                <option value="STEEL SHOW PC ITEMS">STEEL SHOW PC ITEMS</option>
                                <option value="SWATCHES">SWATCHES</option>
                                <option value="T SHIRTS">T SHIRTS</option>
                                <option value="TEA CUP (27201751# MELAMINE)">TEA CUP (27201751# MELAMINE)</option>
                                <option value="THAAL">THAAL</option>
                                <option value="THREAD BOX SAMPLES">THREAD BOX SAMPLES</option>
                                <option value="TOWEL">TOWEL</option>
                                <option value="TOYS">TOYS</option>
                                <option value="TRIM CARD">TRIM CARD</option>
                                <option value="TROUSERS">TROUSERS</option>
                                <option value="VISITING CARDS">VISITING CARDS</option>
                                <option value="VISITING CARDS (BUNDLES)">VISITING CARDS (BUNDLES)</option>
                                <option value="WAIST APPRONS">WAIST APPRONS</option>
                                <option value="WAIST ROBE PKT">WAIST ROBE PKT</option>
                                <option value="WRIST WATCH">WRIST WATCH</option>
                                <option value="ZIPPER HOODIE">ZIPPER HOODIE</option>

                                

                            </select>
                            <input type="number" name="Qty 1 (Box 1)" placeholder="Enter Quantity">
                        </div>
                    </div>

                    <!-- Add Item Button -->
                    <button type="button" class="add-item-button" data-box-index="1" onclick="addItem(this)">+ Add Item</button>

                    <!-- Weight and Volume Fields -->
                    <label for="box-1-chargeable-weight">Actual Weight:</label> 
                    <input type="number" id="box-1-chargeable-weight" name="Chargeable Weight 1" placeholder="Enter Chargeable Weight" step="any">

                    <label for="box-1-chargeable-volume">Box Volume:</label>
                    <input type="number" id="box-1-chargeable-volume" name="Chargeable Volume 1" placeholder="Enter Chargeable Volume" step="any">

                    <label for="box-1-dispatching-weight" class="hidden-field">Dispatching Weight:</label>
                    <input type="number" id="box-1-dispatching-weight" name="Dispatching Weight 1" placeholder="Enter Dispatching Weight" class="hidden-field">


                    <label for="box-1-dispatching-volume" class="hidden-field">Dispatching Volume:</label>
                    <input type="number" id="box-1-dispatching-volume" name="Dispatching Volume 1" placeholder="Enter Dispatching Volume" class="hidden-field">
                </div>
            </div>

            <!-- Add Box Button -->
            <button type="button" class="add-box-button" onclick="addBox()">+ Add Box</button>

            <!-- Submit Button -->
            <button type="submit" class="submit-btn">Add Shipment</button>
        </form>
    </div>

    <script>
        $(document).ready(function() {
            $('.searchable-dropdown').select2();
        });

        // Fetch and Display Username
        const username = localStorage.getItem('loggedInUser') || 'Guest';
        document.getElementById('username-display').textContent = `Logged in as: ${username}`;
        document.getElementById('username').value = username;

// Handle Form Submission
document.getElementById('shipment-form').addEventListener('submit', async (event) => {
    event.preventDefault(); // Prevent default form submission behavior

    const submitButton = document.querySelector('.submit-btn');

    // Check if the form is already being submitted
    if (submitButton.disabled) {
        alert('Data is already being transferred. Please wait.');
        return;
    }

    // Validate all boxes before submission
    if (!validateBoxes()) {
        return;
    }

    // Disable the submit button and show the loading spinner
    submitButton.disabled = true;
    submitButton.innerHTML = '<div class="loading-spinner"></div> Transferring Data...';

    const formData = new FormData(event.target);
    const data = Object.fromEntries(formData.entries());

    try {
        const response = await fetch(
            'https://script.google.com/macros/s/AKfycbxWgkxgkzUU9ZbKgTXh3DW0Fo6SyQi_NV-ErVKT47jOkZ9KkJxHkG8_wENGlfWdb3c35w/exec',
            {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
                mode: 'no-cors', // Disable CORS
            }
        );

        // No response is expected with 'no-cors' mode
        showMessage('Shipment added successfully.', 'success');

        // Reset the form and reinitialize the page
        resetForm();
    } catch (error) {
        console.error('Error:', error);
        showMessage('An error occurred. Please try again.', 'error');
    } finally {
        // Re-enable the button and reset its text
        submitButton.disabled = false;
        submitButton.textContent = 'Add Shipment';
    }
});

// Reset the form to its initial state
function resetForm() {
    // Reset the form element
    const form = document.getElementById('shipment-form');
    form.reset();

    // Remove all dynamically added boxes
    const boxContainer = document.getElementById('box-container');
    boxContainer.innerHTML = '';

    // Reinitialize the first box
    addBox();

    // Reset dropdowns (reinitialize Select2 for searchable dropdowns)
    $('.searchable-dropdown').val('').trigger('change');
    $('.searchable-dropdown').select2();
}

// Validate all boxes and their fields
function validateBoxes() {
    const boxes = document.querySelectorAll('.box-container');
    let isValid = true;

    boxes.forEach((box, index) => {
        const boxIndex = index + 1;
        const boxType = box.querySelector(`[name="Box Type ${boxIndex}"]`);
        const chargeableWeight = box.querySelector(`[name="Chargeable Weight ${boxIndex}"]`);
        const chargeableVolume = box.querySelector(`[name="Chargeable Volume ${boxIndex}"]`);
        const items = box.querySelectorAll('.item-row');

        // Check if box type, weight, and volume are filled
        if (!boxType.value || !chargeableWeight.value || !chargeableVolume.value) {
            isValid = false;
            showMessage(`Please fill all fields for Box #${boxIndex}.`, 'error');
            return;
        }

        // Validate each item in the box
        items.forEach((item, itemIndex) => {
            const itemName = item.querySelector(`[name="Item ${itemIndex + 1} (Box ${boxIndex})"]`);
            const itemQty = item.querySelector(`[name="Qty ${itemIndex + 1} (Box ${boxIndex})"]`);

            if (!itemName.value || !itemQty.value) {
                isValid = false;
                showMessage(`Please fill all fields for Item #${itemIndex + 1} in Box #${boxIndex}.`, 'error');
                return;
            }
        });
    });

    return isValid;
}

// Show a message (success or error)
function showMessage(message, type) {
    const messageBox = document.getElementById('message');
    messageBox.textContent = message;
    messageBox.className = `message ${type}`;
    messageBox.style.display = 'block';

    setTimeout(() => {
        messageBox.style.display = 'none';
    }, 5000);
}

// Renumber Boxes
function renumberBoxes() {
    const boxes = document.querySelectorAll('.box-container');
    boxes.forEach((box, index) => {
        const boxIndex = index + 1;
        box.setAttribute('data-box-index', boxIndex);
        box.querySelector('h3').textContent = `Box #${boxIndex}`;
        box.querySelector('.items-container').setAttribute('data-box-index', boxIndex);
        renumberItems(box);
    });
}

// Renumber Items
function renumberItems(box) {
    const items = box.querySelectorAll('.item-row');
    items.forEach((item, index) => {
        const itemIndex = index + 1;
        item.setAttribute('data-item-index', itemIndex);
        item.querySelector('.item-label').textContent = `Item #${itemIndex}`;
    });
}

// Add the initial box on page load
document.addEventListener('DOMContentLoaded', () => {
    resetForm(); // Ensure the form starts with one box
});




        // Add Box
        function addBox() {
            const currentBoxes = document.querySelectorAll('.box-container').length;

            if (currentBoxes >= 6) {
                alert("Maximum of 6 boxes allowed.");
                return;
            }

            const boxContainer = document.createElement('div');
            boxContainer.classList.add('box-container');

            boxContainer.innerHTML = `
                <button type="button" class="remove-box-btn" onclick="removeBox(this)">Remove Box</button>
                <h3>Box</h3>
                <label for="box-type">Box Type:</label>
                <select name="Box Type ${currentBoxes + 1}" class="searchable-dropdown">
                    <option value="">Select Box Type</option>
                        <option value="Box 1">Box 1</option>
                        <option value="Box 2">Box 2</option>
                        <option value="Box 3">Box 3</option>
                        <option value="Box 4A">Box 4A</option>
                        <option value="Box 4">Box 4</option>
                        <option value="Box 5A">Box 5A</option>
                        <option value="Box 6A">Box 6A</option>
                        <option value="Box 5">Box 5</option>
                        <option value="Box 6">Box 6</option>
                        <option value="Box 7A">Box 7A</option>
                        <option value="Box 7">Box 7</option>
                        <option value="Box 8">Box 8</option>
                </select>

                <div class="items-container">
                    <div class="item-row" data-item-index="1">
                        <span class="item-label">Item #1</span>
                        <button type="button" class="remove-item-btn" onclick="removeItem(this)">Remove Item</button>
                        <select name="Item 1 (Box ${currentBoxes + 1})" class="searchable-dropdown">
                                <option value="">Select Item</option>
                                <option value="ARTIFICIAL BANGLES">ARTIFICIAL BANGLES</option>
                                <option value="ARTIFICIAL EAR RINGS">ARTIFICIAL EAR RINGS</option>
                                <option value="ARTIFICIAL FLOWERS">ARTIFICIAL FLOWERS</option>
                                <option value="ARTIFICIAL JEWELLERY">ARTIFICIAL JEWELLERY</option>
                                <option value="BABY BED MOSQUITO NET">BABY BED MOSQUITO NET</option>
                                <option value="BEAUTY PRODUCTS">BEAUTY PRODUCTS</option>
                                <option value="BED SHEETS">BED SHEETS</option>
                                <option value="BLANKET">BLANKET</option>
                                <option value="BOOKS">BOOKS</option>
                                <option value="BOWLS">BOWLS</option>
                                <option value="BOYS SLIPPER">BOYS SLIPPER</option>
                                <option value="BOYS SUITS">BOYS SUITS</option>
                                <option value="BRIDAL LEHENGA">BRIDAL LEHENGA</option>
                                <option value="BRUSH">BRUSH</option>
                                <option value="CAP">CAP</option>
                                <option value="CHAIN (ARTIFICIAL JWELLERY)">CHAIN (ARTIFICIAL JWELLERY)</option>
                                <option value="CUFFLINKS">CUFFLINKS</option>
                                <option value="CURTAINS">CURTAINS</option>
                                <option value="DECORATION BASKET">DECORATION BASKET</option>
                                <option value="DECORATION PIECE">DECORATION PIECE</option>
                                <option value="DRY FRUIT PLATE">DRY FRUIT PLATE</option>
                                <option value="DUPATTA">DUPATTA</option>
                                <option value="EMPTY BOX">EMPTY BOX</option>
                                <option value="EYEGLASSES">EYEGLASSES</option>
                                <option value="FLAGS">FLAGS</option>
                                <option value="FLOOR MATS">FLOOR MATS</option>
                                <option value="GARMENTS ACCESSORIES ELASTIC ROLL">GARMENTS ACCESSORIES ELASTIC ROLL</option>
                                <option value="GENTS BELT">GENTS BELT</option>
                                <option value="GENTS JACKETS">GENTS JACKETS</option>
                                <option value="GENTS KURTA">GENTS KURTA</option>
                                <option value="GENTS KURTA PAJAMA">GENTS KURTA PAJAMA</option>
                                <option value="GENTS PAJAMA">GENTS PAJAMA</option>
                                <option value="GENTS PANTS">GENTS PANTS</option>
                                <option value="GENTS PVC SLIPPERS">GENTS PVC SLIPPERS</option>
                                <option value="GENTS SANDLES">GENTS SANDLES</option>
                                <option value="GENTS SHALWAR KAMEEZ">GENTS SHALWAR KAMEEZ</option>
                                <option value="GENTS SHIRTS">GENTS SHIRTS</option>
                                <option value="GENTS SHIRWANI">GENTS SHIRWANI</option>
                                <option value="GENTS SHOES">GENTS SHOES</option>
                                <option value="GENTS SUITS">GENTS SUITS</option>
                                <option value="GENTS SWEATER">GENTS SWEATER</option>
                                <option value="GENTS UNDERGARMENTS">GENTS UNDERGARMENTS</option>
                                <option value="GENTS UPPER">GENTS UPPER</option>
                                <option value="GENTS WAISTCOAT">GENTS WAISTCOAT</option>
                                <option value="GENTS WALLETS">GENTS WALLETS</option>
                                <option value="GIRL FROCK">GIRL FROCK</option>
                                <option value="GIRLS CANVA SHOES">GIRLS CANVA SHOES</option>
                                <option value="GIRLS SANDAL">GIRLS SANDAL</option>
                                <option value="GIRLS SUITS">GIRLS SUITS</option>
                                <option value="GIRLS SYNTHETIC KNITTED TIGHTS">GIRLS SYNTHETIC KNITTED TIGHTS</option>
                                <option value="GIRLS UPPER">GIRLS UPPER</option>
                                <option value="GLASS">GLASS</option>
                                <option value="GLOVES PAIR">GLOVES PAIR</option>
                                <option value="HAIR BANDS">HAIR BANDS</option>
                                <option value="HAIR CLIPS">HAIR CLIPS</option>
                                <option value="HAIR DRYER">HAIR DRYER</option>
                                <option value="HAND TAG">HAND TAG</option>
                                <option value="HEAD SCARF">HEAD SCARF</option>
                                <option value="HINA CONE MEHENDI">HINA CONE MEHENDI</option>
                                <option value="HOLY QURAN">HOLY QURAN</option>
                                <option value="ISLAMIC BOOKS">ISLAMIC BOOKS</option>
                                <option value="JAY NAMAZ">JAY NAMAZ</option>
                                <option value="JEWELLERY EMPTY POUCHES">JEWELLERY EMPTY POUCHES</option>
                                <option value="JOGGERS">JOGGERS</option>
                                <option value="KETTLE SMALL">KETTLE SMALL</option>
                                <option value="KIDS SUITS">KIDS SUITS</option>
                                <option value="KITCHEN CROCKERY">KITCHEN CROCKERY</option>
                                <option value="KNIFE">KNIFE</option>
                                <option value="LAB COAT">LAB COAT</option>
                                <option value="LACES">LACES</option>
                                <option value="LADIES ABAYA">LADIES ABAYA</option>
                                <option value="LADIES BAGS">LADIES BAGS</option>
                                <option value="LADIES CLOTHS">LADIES CLOTHS</option>
                                <option value="LADIES CLUTCH">LADIES CLUTCH</option>
                                <option value="LADIES FROCK">LADIES FROCK</option>
                                <option value="LADIES GHARARA">LADIES GHARARA</option>
                                <option value="LADIES HIJAB">LADIES HIJAB</option>
                                <option value="LADIES JACKET">LADIES JACKET</option>
                                <option value="LADIES KHUSSAY">LADIES KHUSSAY</option>
                                <option value="LADIES KNITTED SWEATER">LADIES KNITTED SWEATER</option>
                                <option value="LADIES KURTIES">LADIES KURTIES</option>
                                <option value="LADIES MAXI">LADIES MAXI</option>
                                <option value="LADIES PANTS">LADIES PANTS</option>
                                <option value="LADIES SHAWLS">LADIES SHAWLS</option>
                                <option value="LADIES SHIRTS">LADIES SHIRTS</option>
                                <option value="LADIES SHOES">LADIES SHOES</option>
                                <option value="LADIES SLIPPERS">LADIES SLIPPERS</option>
                                <option value="LADIES SUITS">LADIES SUITS</option>
                                <option value="LADIES TOP">LADIES TOP</option>
                                <option value="LADIES UNDER GARMENTS">LADIES UNDER GARMENTS</option>
                                <option value="LADIES WOVEN WAISTCOAT">LADIES WOVEN WAISTCOAT</option>
                                <option value="LEATHER ACCESSORIES">LEATHER ACCESSORIES</option>
                                <option value="LEATHER JACKET">LEATHER JACKET</option>
                                <option value="LEATHER PANT">LEATHER PANT</option>
                                <option value="MACHINE">MACHINE</option>
                                <option value="MATTRESS COVER">MATTRESS COVER</option>
                                <option value="MENS HOODIES">MENS HOODIES</option>
                                <option value="MENS JUBBAY">MENS JUBBAY</option>
                                <option value="MENS POLYSTER COAT">MENS POLYSTER COAT</option>
                                <option value="MENS POLYSTER PANT COAT">MENS POLYSTER PANT COAT</option>
                                <option value="MENS WOVEN HANDKERCHIEF (100% POLYSTER)">MENS WOVEN HANDKERCHIEF (100% POLYSTER)</option>
                                <option value="MISWAK STICKS">MISWAK STICKS</option>
                                <option value="MOBILE POUCHES">MOBILE POUCHES</option>
                                <option value="MOTOR MIXER BASE (SPARE PARTS FOR COFFEE MACHINE)">MOTOR MIXER BASE (SPARE PARTS FOR COFFEE MACHINE)</option>
                                <option value="PAMPHLETS (BUNDLES)">PAMPHLETS (BUNDLES)</option>
                                <option value="PEN">PEN</option>
                                <option value="PILLOW COVERS">PILLOW COVERS</option>
                                <option value="PLASTIC CAPS">PLASTIC CAPS</option>
                                <option value="PLASTIC TRAY">PLASTIC TRAY</option>
                                <option value="PLATES">PLATES</option>
                                <option value="POUCHES">POUCHES</option>
                                <option value="PRINTING MATERIAL CARD STRIP">PRINTING MATERIAL CARD STRIP</option>
                                <option value="PU JACKETS">PU JACKETS</option>
                                <option value="SCARFS">SCARFS</option>
                                <option value="SCISSORS">SCISSORS</option>
                                <option value="SHOW PIECE">SHOW PIECE</option>
                                <option value="SOCKS">SOCKS</option>
                                <option value="SPOON">SPOON</option>
                                <option value="STAR">STAR</option>
                                <option value="STEEL SHOW PC ITEMS">STEEL SHOW PC ITEMS</option>
                                <option value="SWATCHES">SWATCHES</option>
                                <option value="T SHIRTS">T SHIRTS</option>
                                <option value="TEA CUP (27201751# MELAMINE)">TEA CUP (27201751# MELAMINE)</option>
                                <option value="THAAL">THAAL</option>
                                <option value="THREAD BOX SAMPLES">THREAD BOX SAMPLES</option>
                                <option value="TOWEL">TOWEL</option>
                                <option value="TOYS">TOYS</option>
                                <option value="TRIM CARD">TRIM CARD</option>
                                <option value="TROUSERS">TROUSERS</option>
                                <option value="VISITING CARDS">VISITING CARDS</option>
                                <option value="VISITING CARDS (BUNDLES)">VISITING CARDS (BUNDLES)</option>
                                <option value="WAIST APPRONS">WAIST APPRONS</option>
                                <option value="WAIST ROBE PKT">WAIST ROBE PKT</option>
                                <option value="WRIST WATCH">WRIST WATCH</option>
                                <option value="ZIPPER HOODIE">ZIPPER HOODIE</option>


                        </select>
                        <input type="number" name="Qty 1 (Box ${currentBoxes + 1})" placeholder="Enter Quantity">
                    </div>
                </div>

                <button type="button" class="add-item-button" onclick="addItem(this)">+ Add Item</button>

                <label for="chargeable-weight">Actual Weight:</label>
                <input type="number" name="Chargeable Weight ${currentBoxes + 1}" placeholder="Enter Chargeable Weight"step="any">

                <label for="chargeable-volume">Box Volume:</label>
                <input type="number" name="Chargeable Volume ${currentBoxes + 1}" placeholder="Enter Chargeable Volume"step="any">

                <label for="dispatching-weight" class="hidden-field">Dispatching Weight:</label>
                <input type="number" name="Dispatching Weight ${currentBoxes + 1}" placeholder="Enter Dispatching Weight" class="hidden-field">

                <label for="dispatching-volume" class="hidden-field">Dispatching Volume:</label>
                <input type="number" name="Dispatching Volume ${currentBoxes + 1}" placeholder="Enter Dispatching Volume" class="hidden-field">
            `;

            document.getElementById('box-container').appendChild(boxContainer);
            renumberBoxes();
            $('.searchable-dropdown').select2(); // Initialize Select2 for new elements
        }

        // Remove Box
        function removeBox(button) {
            button.closest('.box-container').remove();
            renumberBoxes();
        }

            function addItem(button) {
                const boxContainer = button.closest('.box-container');
                const itemsContainer = boxContainer.querySelector('.items-container');
                const currentItems = itemsContainer.querySelectorAll('.item-row').length;

                // Check if the number of items in the box is already 15
                if (currentItems >= 15) {
                    alert("You can add a maximum of 15 items per box.");
                    return;
                }

                const itemRow = document.createElement('div');
                itemRow.classList.add('item-row');

                const boxIndex = boxContainer.getAttribute('data-box-index');
                const newItemIndex = currentItems + 1;

                itemRow.innerHTML = `
                    <span class="item-label">Item</span>
                    <button type="button" class="remove-item-btn" onclick="removeItem(this)">Remove Item</button>
                    <select name="Item ${newItemIndex} (Box ${boxIndex})" class="searchable-dropdown">
                                <option value="">Select Item</option>
                                <option value="ARTIFICIAL BANGLES">ARTIFICIAL BANGLES</option>
                                <option value="ARTIFICIAL EAR RINGS">ARTIFICIAL EAR RINGS</option>
                                <option value="ARTIFICIAL FLOWERS">ARTIFICIAL FLOWERS</option>
                                <option value="ARTIFICIAL JEWELLERY">ARTIFICIAL JEWELLERY</option>
                                <option value="BABY BED MOSQUITO NET">BABY BED MOSQUITO NET</option>
                                <option value="BEAUTY PRODUCTS">BEAUTY PRODUCTS</option>
                                <option value="BED SHEETS">BED SHEETS</option>
                                <option value="BLANKET">BLANKET</option>
                                <option value="BOOKS">BOOKS</option>
                                <option value="BOWLS">BOWLS</option>
                                <option value="BOYS SLIPPER">BOYS SLIPPER</option>
                                <option value="BOYS SUITS">BOYS SUITS</option>
                                <option value="BRIDAL LEHENGA">BRIDAL LEHENGA</option>
                                <option value="BRUSH">BRUSH</option>
                                <option value="CAP">CAP</option>
                                <option value="CHAIN (ARTIFICIAL JWELLERY)">CHAIN (ARTIFICIAL JWELLERY)</option>
                                <option value="CUFFLINKS">CUFFLINKS</option>
                                <option value="CURTAINS">CURTAINS</option>
                                <option value="DECORATION BASKET">DECORATION BASKET</option>
                                <option value="DECORATION PIECE">DECORATION PIECE</option>
                                <option value="DRY FRUIT PLATE">DRY FRUIT PLATE</option>
                                <option value="DUPATTA">DUPATTA</option>
                                <option value="EMPTY BOX">EMPTY BOX</option>
                                <option value="EYEGLASSES">EYEGLASSES</option>
                                <option value="FLAGS">FLAGS</option>
                                <option value="FLOOR MATS">FLOOR MATS</option>
                                <option value="GARMENTS ACCESSORIES ELASTIC ROLL">GARMENTS ACCESSORIES ELASTIC ROLL</option>
                                <option value="GENTS BELT">GENTS BELT</option>
                                <option value="GENTS JACKETS">GENTS JACKETS</option>
                                <option value="GENTS KURTA">GENTS KURTA</option>
                                <option value="GENTS KURTA PAJAMA">GENTS KURTA PAJAMA</option>
                                <option value="GENTS PAJAMA">GENTS PAJAMA</option>
                                <option value="GENTS PANTS">GENTS PANTS</option>
                                <option value="GENTS PVC SLIPPERS">GENTS PVC SLIPPERS</option>
                                <option value="GENTS SANDLES">GENTS SANDLES</option>
                                <option value="GENTS SHALWAR KAMEEZ">GENTS SHALWAR KAMEEZ</option>
                                <option value="GENTS SHIRTS">GENTS SHIRTS</option>
                                <option value="GENTS SHIRWANI">GENTS SHIRWANI</option>
                                <option value="GENTS SHOES">GENTS SHOES</option>
                                <option value="GENTS SUITS">GENTS SUITS</option>
                                <option value="GENTS SWEATER">GENTS SWEATER</option>
                                <option value="GENTS UNDERGARMENTS">GENTS UNDERGARMENTS</option>
                                <option value="GENTS UPPER">GENTS UPPER</option>
                                <option value="GENTS WAISTCOAT">GENTS WAISTCOAT</option>
                                <option value="GENTS WALLETS">GENTS WALLETS</option>
                                <option value="GIRL FROCK">GIRL FROCK</option>
                                <option value="GIRLS CANVA SHOES">GIRLS CANVA SHOES</option>
                                <option value="GIRLS SANDAL">GIRLS SANDAL</option>
                                <option value="GIRLS SUITS">GIRLS SUITS</option>
                                <option value="GIRLS SYNTHETIC KNITTED TIGHTS">GIRLS SYNTHETIC KNITTED TIGHTS</option>
                                <option value="GIRLS UPPER">GIRLS UPPER</option>
                                <option value="GLASS">GLASS</option>
                                <option value="GLOVES PAIR">GLOVES PAIR</option>
                                <option value="HAIR BANDS">HAIR BANDS</option>
                                <option value="HAIR CLIPS">HAIR CLIPS</option>
                                <option value="HAIR DRYER">HAIR DRYER</option>
                                <option value="HAND TAG">HAND TAG</option>
                                <option value="HEAD SCARF">HEAD SCARF</option>
                                <option value="HINA CONE MEHENDI">HINA CONE MEHENDI</option>
                                <option value="HOLY QURAN">HOLY QURAN</option>
                                <option value="ISLAMIC BOOKS">ISLAMIC BOOKS</option>
                                <option value="JAY NAMAZ">JAY NAMAZ</option>
                                <option value="JEWELLERY EMPTY POUCHES">JEWELLERY EMPTY POUCHES</option>
                                <option value="JOGGERS">JOGGERS</option>
                                <option value="KETTLE SMALL">KETTLE SMALL</option>
                                <option value="KIDS SUITS">KIDS SUITS</option>
                                <option value="KITCHEN CROCKERY">KITCHEN CROCKERY</option>
                                <option value="KNIFE">KNIFE</option>
                                <option value="LAB COAT">LAB COAT</option>
                                <option value="LACES">LACES</option>
                                <option value="LADIES ABAYA">LADIES ABAYA</option>
                                <option value="LADIES BAGS">LADIES BAGS</option>
                                <option value="LADIES CLOTHS">LADIES CLOTHS</option>
                                <option value="LADIES CLUTCH">LADIES CLUTCH</option>
                                <option value="LADIES FROCK">LADIES FROCK</option>
                                <option value="LADIES GHARARA">LADIES GHARARA</option>
                                <option value="LADIES HIJAB">LADIES HIJAB</option>
                                <option value="LADIES JACKET">LADIES JACKET</option>
                                <option value="LADIES KHUSSAY">LADIES KHUSSAY</option>
                                <option value="LADIES KNITTED SWEATER">LADIES KNITTED SWEATER</option>
                                <option value="LADIES KURTIES">LADIES KURTIES</option>
                                <option value="LADIES MAXI">LADIES MAXI</option>
                                <option value="LADIES PANTS">LADIES PANTS</option>
                                <option value="LADIES SHAWLS">LADIES SHAWLS</option>
                                <option value="LADIES SHIRTS">LADIES SHIRTS</option>
                                <option value="LADIES SHOES">LADIES SHOES</option>
                                <option value="LADIES SLIPPERS">LADIES SLIPPERS</option>
                                <option value="LADIES SUITS">LADIES SUITS</option>
                                <option value="LADIES TOP">LADIES TOP</option>
                                <option value="LADIES UNDER GARMENTS">LADIES UNDER GARMENTS</option>
                                <option value="LADIES WOVEN WAISTCOAT">LADIES WOVEN WAISTCOAT</option>
                                <option value="LEATHER ACCESSORIES">LEATHER ACCESSORIES</option>
                                <option value="LEATHER JACKET">LEATHER JACKET</option>
                                <option value="LEATHER PANT">LEATHER PANT</option>
                                <option value="MACHINE">MACHINE</option>
                                <option value="MATTRESS COVER">MATTRESS COVER</option>
                                <option value="MENS HOODIES">MENS HOODIES</option>
                                <option value="MENS JUBBAY">MENS JUBBAY</option>
                                <option value="MENS POLYSTER COAT">MENS POLYSTER COAT</option>
                                <option value="MENS POLYSTER PANT COAT">MENS POLYSTER PANT COAT</option>
                                <option value="MENS WOVEN HANDKERCHIEF (100% POLYSTER)">MENS WOVEN HANDKERCHIEF (100% POLYSTER)</option>
                                <option value="MISWAK STICKS">MISWAK STICKS</option>
                                <option value="MOBILE POUCHES">MOBILE POUCHES</option>
                                <option value="MOTOR MIXER BASE (SPARE PARTS FOR COFFEE MACHINE)">MOTOR MIXER BASE (SPARE PARTS FOR COFFEE MACHINE)</option>
                                <option value="PAMPHLETS (BUNDLES)">PAMPHLETS (BUNDLES)</option>
                                <option value="PEN">PEN</option>
                                <option value="PILLOW COVERS">PILLOW COVERS</option>
                                <option value="PLASTIC CAPS">PLASTIC CAPS</option>
                                <option value="PLASTIC TRAY">PLASTIC TRAY</option>
                                <option value="PLATES">PLATES</option>
                                <option value="POUCHES">POUCHES</option>
                                <option value="PRINTING MATERIAL CARD STRIP">PRINTING MATERIAL CARD STRIP</option>
                                <option value="PU JACKETS">PU JACKETS</option>
                                <option value="SCARFS">SCARFS</option>
                                <option value="SCISSORS">SCISSORS</option>
                                <option value="SHOW PIECE">SHOW PIECE</option>
                                <option value="SOCKS">SOCKS</option>
                                <option value="SPOON">SPOON</option>
                                <option value="STAR">STAR</option>
                                <option value="STEEL SHOW PC ITEMS">STEEL SHOW PC ITEMS</option>
                                <option value="SWATCHES">SWATCHES</option>
                                <option value="T SHIRTS">T SHIRTS</option>
                                <option value="TEA CUP (27201751# MELAMINE)">TEA CUP (27201751# MELAMINE)</option>
                                <option value="THAAL">THAAL</option>
                                <option value="THREAD BOX SAMPLES">THREAD BOX SAMPLES</option>
                                <option value="TOWEL">TOWEL</option>
                                <option value="TOYS">TOYS</option>
                                <option value="TRIM CARD">TRIM CARD</option>
                                <option value="TROUSERS">TROUSERS</option>
                                <option value="VISITING CARDS">VISITING CARDS</option>
                                <option value="VISITING CARDS (BUNDLES)">VISITING CARDS (BUNDLES)</option>
                                <option value="WAIST APPRONS">WAIST APPRONS</option>
                                <option value="WAIST ROBE PKT">WAIST ROBE PKT</option>
                                <option value="WRIST WATCH">WRIST WATCH</option>
                                <option value="ZIPPER HOODIE">ZIPPER HOODIE</option>

                    </select>
                    <input type="number" name="Qty ${newItemIndex} (Box ${boxIndex})" placeholder="Enter Quantity">
                `;

                itemsContainer.appendChild(itemRow);
                renumberItems(boxContainer);
                $('.searchable-dropdown').select2(); // Initialize Select2 for new elements
            }

        // Remove Item
        function removeItem(button) {
            const boxContainer = button.closest('.box-container');
            button.closest('.item-row').remove();
            renumberItems(boxContainer);
        }
    </script>
</body>
</html>
